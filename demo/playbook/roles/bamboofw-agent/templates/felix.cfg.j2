FELIX_DATASTORETYPE=etcdv3
FELIX_LOGFILEPATH={{felix_log_file}}
FELIX_PROMETHEUSMETRICSPORT={{felix_prometheus_port}}
FELIX_PROMETHEUSMETRICSENABLED=true
FELIX_PROMETHEUSPROCESSMETRICSENABLED=true
FELIX_PROMETHEUSWIREGUARDMETRICSENABLED=false
FELIX_VXLANENABLED=false
ETCD_USERNAME={{ETCD_USERNAME}}
ETCD_PASSWORD={{ETCD_PASSWORD}}
FELIX_HEALTHHOST={{ inventory_hostname }}
FELIX_PROMETHEUSMETRICSHOST={{ inventory_hostname }}
FELIX_DEVICEROUTESOURCEADDRESS={{ inventory_hostname }}
FELIX_DISABLECONNTRACKINVALIDCHECK=false
FELIX_ETCDCAFILE=/etc/calico/ssl/ca.pem
FELIX_ETCDCERTFILE=/etc/calico/ssl/etcd.pem
FELIX_ETCDKEYFILE=/etc/calico/ssl/etcd-key.pem
ETCD_CERT_FILE=/etc/calico/ssl/etcd.pem
ETCD_KEY_FILE=/etc/calico/ssl/etcd-key.pem
ETCD_CA_CERT_FILE=/etc/calico/ssl/ca.pem
FELIX_FAILSAFEINBOUNDHOSTPORTS=2379,2380
FELIX_FAILSAFEOUTBOUNDHOSTPORTS=2379,2380
FELIX_LOGSEVERITYFILE={{felix_log_level}}
FELIX_LOGSEVERITYSCREEN={{felix_log_level}}
FELIX_LOGSEVERITYSYS={{felix_log_level}}
FELIX_REPORTINGINTERVALSECS={{felix_reporting_interval}}
ETCD_ENDPOINTS={% for host in groups['etcd'] %}https://{{ hostvars[host]['inventory_hostname'] }}:2379{% if not loop.last %},{% endif %}{% endfor %}

FELIX_ETCDENDPOINTS={% for host in groups['etcd'] %}https://{{ hostvars[host]['inventory_hostname'] }}:2379{% if not loop.last %},{% endif %}{% endfor %}